
<!DOCTYPE html>
<html>
<body style="background-color:powderblue";>
	<h1 style="font-size:60px;font-family:Courier New;">Pandora machine Security Hole<sub style="font-size:13px">by suppi</sub></h1>
	<b style="font-family:courier;">Staring point:</b>
    <p style="font-family:courier;">Yeah yeah I crawl, do nmap but I did't find any admin page or serious security problems. However, at the end of page there is a get form with html... Well let me see what I can do.<br> So on, html injection can do shit so I do a small nmap search and find out an ssh connection to the server, hopefully I can make it there by this way :v.</p>
    <img src="ssh1.png" width="1280" height="720">
    <p style="font-family:courier;">Now I gonna make some reseach about these meterials. Well looks what I found openssh 8.2p1 ubuntu 4ubuntu0.3 is exploitable but what more matter is how we do it in way that we can learn. In another way, we can use metaploit but Im not recommend(later I will light this shit up).<br> Yo I just found a way to scan nmap with vuln script and about to test it out. And the command</p>
    <i style="font-family:courier;">suppie@suppies-parrot: nmap -sV --script vuln -p22 10.129.220.132</i>
    <img src="ssh2.png" width="1280" height="720">
    <p style="font-family:courier;">This hole called CVE-2020-15778 its basically "DISPUTED scp in OpenSSH through 8.3p1 allows command injection in the scp.c toremote function, as demonstrated by backtick characters in the destination argument." Now it time to break this down.<br> openSSH scp is a program for copying files between computers. It uses the SSH protocol. It is included by default in most Linux and Unix distributions. It is also included in the Tectia SSH and OpenSSH packages. Usage scp file.txt remote_username@10.10.0.2:/remote/directory. Where file.txt is the name of the file we want to copy, remote_username is the user on the remote server, 10.10.0.2 is the server IP address. The /remote/directory is the path to the directory you want to copy the file to. If you don’t specify a remote directory, the file will be copied to the remote user home directory.<br> After a while of thinking I decided to head to cve writeup cuz it will take times if I want to exploit this vulnerablity also its faster when we learn from others.
    <br> Now I figures it out the step to upload a malicious command and enable reverse shell. BUT we have to has the password in order to copy.</p>
    <img src="ssh3.png" width="1280" height="720">
    <p style="font-family:courier;"> Now we need to bypass the password in someways. Well, we have the evidents call ssh host key and we gonna use it.<br> A host key is a cryptographic key used for authenticating computers in the SSH protocol.Host keys are key pairs, typically using the RSA, DSA, or ECDSA algorithms. Public host keys are stored on and/or distributed to SSH clients, and private keys are stored on SSH servers. A host key is the server’s public key. The host key is used by the client to decrypt anauthentication message sent from the server when connecting. The basic purpose of the host key is to ensure that when you connect to a remote host, it is actually the host that you intended toconnect to.</p>
    
 <!--
	<i style="font-family:courier;">suppie@suppies-parrot: sudo openvpn academy.ovpn<br></i>
	<b style="font-family:courier;">___Enumeration___</b>
	<p style="font-family:courier;">Port scanning by nmap</p>
	<i style="font-family:courier;">suppie@suppies-parrot: nmap -sV --open 10.129.220.132</i>
	<img src="k1.png" width="1280" height="720">
	<p style="font-family:courier;">Use gobuster for crawling and finding out: index.html, then use curl to find nibbleblog directory.</p>
	<i style="font-family:courier;">suppie@suppies-parrot: gobuster dir -u http://10.129.220.132/ -w /usr/share/dirb/wordlists/common.txt<br
    ></i>
    <i style="font-family:courier;">suppie@suppies-parrot: curl http://10.129.220.132/index.html<br></i>
    <img src="k2.png" width="1280" height="720">
    <b style="font-family:courier;">___Web Footprinting___</b>
    <p style="font-family:courier;">Use gobuster for crawling and finding out: admin.php, try access it(We can't bruthforce it cuz it contain IP blacklist) so gotta find some information at other crawled directories. We see a lot of directories need to be dived into it. We access one by one till find this fasinating file</p>
    <img src="k3.png" width="1280" height="720"> -->
</body>
</html>
